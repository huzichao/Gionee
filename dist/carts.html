<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金立</title>
    <link rel="stylesheet" href="css/carts.min.css">
</head>
<body>
<div class="all">
<!-- header -->
    <div class="header">
        <div class="g_hd">
            <div class="h_wrapper">
                <a href="" class="g_logo"><img src="img/logo.png"></a>
                <div class="h_right">
                    <div class="h_r_top">
                        <span class="loginReg">
                            <a href="login.html" class="h_r_topa">amigo账号登录</a>
                            <span class="line">|</span>
                            <a href="login.html" class="h_r_topa">原账号登录</a>
                            <span class="line">|</span>
                            <a href="registor.html">注册</a>
                        </span>
                        <span class="cart">
                            <a href="#">
                                <span class="b"></span>
                                <span class="c">购物车(0)</span>
                            </a>
                        </span>
                    </div>
                    <div class="h_r_down">
                        <div class="h_r_left">
                            <ul >
                                <li><a href="index.html">首页</a></li>
                                <li class="menu">
                                    <a href="phlist.html">手机</a>
                                    <div class="menu_box">
                                        <div class="menu_li">
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">最新 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">金立s11s</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立s11</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立m7 plus</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立m7</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">大金刚2</a></s></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">M系列 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">金立m7 plus</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立m6s plus</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立2017</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立m6 plus</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立2017</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立m6</s></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">S系列 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">金立s11s</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立s11</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立s10</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立s10B</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立s10C</s></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">金刚系列 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">金刚3</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金刚2</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">大金刚2</s></a>
                                                    </li>
                                                    
                                                </ul>
                                            </div>
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">天鉴系列 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">天鉴w909</a></s></a>
                                                    </li>
                                                    
                                                </ul>
                                            </div>
                                            <div class="menu_ul">
                                                <ul>
                                                    <li>
                                                        <span class="til" style="font-weight:bold;"><a href="#">F系列 ></a></span>
                                                    </li>
                                                    <li>&nbsp;&nbsp;</li>
                                                    <li>
                                                        <a href="#">金立f106</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立f109</s></a>
                                                    </li>
                                                    <li>
                                                        <a href="#">金立f109s</s></a>
                                                    </li>
                                                    
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li><a href="#">配件</a></li>
                                <li><a href="#">服务</a></li>
                                <li><a href="#">下载</a></li>
                                <li><a href="#">amigoOS</a></li>
                            </ul>
                        </div>
                        <div class="h_r_right">
                            <form action="" class="r_form">
                                <input type="text" id="txt" placeholder="输入搜索内容"><input type="submit" value="" id="btn">
                            </form>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
<!-- cart -->
    <div class="carts">
        <div class="cart_more">
            <div class="cartList">
                <div class="cart_til">购物清单</div>
                <ul class="cartHead">
                    <li>商品</li>
                    <li>名称</li>
                    <li>价格(元)</li>
                    <li>数量</li>
                    <li>小计(元)</li>
                    <li>操作</li>
                </ul>
                <!-- <ul class="goodInfo" data-good-id="sp1">
                    <li><img src="img/1.jpg" /></li>
                    <li>测试</li>
                    <li class="prione">30</li>
                    <li class="num">
                        <div class="product-num">
                            <a href="javascript:;" class="minus"><span></span></a>
                            <input type="text" name="" id="" value="2"">
                            <a href="javascript:;" class="plus"><span></span></a>
                        </div>
                        
                    </li>
                    <li class="total prione">60</li>
                    <li><a href="javascript:;" class="del">删除</a></li>
                </ul> -->
                <div class="blank">
                    您的购物车空空如也~~
                </div>
                
            </div>
            <div class="cart_fot">
                <div class="ss">
                    <span class="cart_s">0</span>
                    <span>件商品，总计</span>
                    <span class="cart_s">0</span>
                    <span>元</span>
                </div>
                
                <a href=""><input type="button" value="去结算" id="pay"></a>
            </div>
        </div>
    </div>
<!-- footer -->
    <div class="footer">
        <div class="ft">
            <div class="wrapper">
                <a href="#" target="_blank"><span class="ft_log1"></span><span class="sp1">7天<br>退货保障</span></a>
                <a href="#" target="_blank"><span class="ft_log2"></span><span class="sp1">30天<br>换货承诺</span></a>
                <a href="#" target="_blank"><span class="ft_log3"></span><span class="sp1">99天<br>全场免运费</span></a>
                <a href="#" target="_blank"><span class="ft_log4"></span><span class="sp1">579家<br>售后服务点</span></a>
            </div>
        </div>
        <div class="ft_lis wrapper">
            <dl>
                <dt>关于金立</dt>
                <dd><a href="https://www.gionee.com/zh/honour/" hidefocus="true" target="_blank">企业荣誉</a></dd>
                <dd><a href="https://shop.gionee.com/experience_store.shtml" hidefocus="true" target="_blank">金立体验店</a></dd>
                <dd><a href="https://www.gionee.com/op-agentIndex.shtml" hidefocus="true" target="_blank">代理商专区</a></dd>
                <dd><a href="https://www.gionee.com/zhnew/jlzp/" hidefocus="true" target="_blank">加入金立</a></dd>
                <dd><a href="https://www.gionee.com/zhnew/contactUs/" hidefocus="true" target="_blank">联系我们</a></dd>
                <dd><a href="https://www.gionee.com/zh/providerService/" hidefocus="true" target="_blank">供应/服务商需求咨询</a></dd>
            </dl>
            <dl>
                <dt>新闻资讯</dt>
                <dd><a href="https://www.gionee.com/zh/comNews/" hidefocus="true" target="_blank">公司新闻</a></dd>
                <dd><a href="https://www.gionee.com/zh/mediabd/" hidefocus="true" target="_blank">媒体报道</a></dd>
                <!-- <dd><a href="https://www.gionee.com/zh/newsMonth/" hidefocus="true" target="_blank">金立月刊</a></dd> -->
            </dl>
            <dl>
                <dt>购物指南</dt>
                <dd><a href="https://shop.gionee.com/help_detail/15" hidefocus="true" target="_blank">购物流程</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/41" hidefocus="true" target="_blank">支付方式</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/31" hidefocus="true" target="_blank">配送说明及费用</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/23" hidefocus="true" target="_blank">订单管理</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/17" hidefocus="true" target="_blank">购买常见问题</a></dd>
                <dd><a href="https://www.gionee.com/zh/supportapk/" hidefocus="true" target="_blank">预置应用公示</a></dd>
            </dl>
            <dl>
                <dt>售后服务</dt>
                <dd><a href="https://shop.gionee.com/help_detail/49" hidefocus="true" target="_blank">售后政策</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/47" hidefocus="true" target="_blank">售后服务网点</a></dd>
                <dd><a href="https://tg.hiweixiu.com/gionee/index" hidefocus="true" target="_blank">上门维修</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/39" hidefocus="true" target="_blank">签收须知</a></dd>
                <dd><a href="https://shop.gionee.com/help_detail/37" hidefocus="true" target="_blank">物流查询</a></dd>
            </dl>
            <dl class="dl">
                <dt>关注我们</dt>
                <dd><a href="https://e.weibo.com/gionee?ref=http%3A%2F%2Frysx.myaora.net%2Fwebrysx%2F" rel="nofollow" hidefocus="true" target="_blank" >新浪微博<span class="sina"></span></a></dd>
                <dd><a href="https://e.t.qq.com/gionee" rel="nofollow" hidefocus="true" target="_blank" >腾讯微博<span class="tencent"></span></a></dd>
                <dd><a href="https://gionee.qzone.qq.com/" rel="nofollow" hidefocus="true" target="_blank" >QQ空间<span class="qzone"></span></a></dd>
            </dl>
            <div class="wx">
                <span class="wx_img"></span>
                <span class="wx_ts">扫一扫关注微信</span>
            </div>
        </div>
        <div class="ft_coprt">
            <div class="wrapper ft_aaa">
                <p class="fp_coplink">
                    <a href="#">网站地图</a>
                    <b>|</b>
                    <a href="#" class="cop">集团下属公司</a>
                </p>
                <div class="ft_fopa">
                    增值电信业务经营许可证:
                    <a href="#">粤B2-20120350</a>
                    <a href="#">粤ICP备05087105号</a>
                    <a href="#">粤网文[2018]10835-3804号</a>
                    <a href="#">粤文市审[2012]196号</a>
                    <a href="#" class="xin"></a>
                    <a href="#" class="zf"></a>
                    <a href="#" class="ga"></a>
                </div>
                <div>Copyright c 2013 深圳市金立通信设备有限公司版权所有．</div>
                <div class="zw">
                    <div class="cn"><a href="#">中国/简体中文</a></div>
                    <div class="en"><a href="#" class="en">En/English</a></div>
                </div>
            </div>
        </div>
    </div>
    <div class="service">
        <div class="sv_items">
            <a href="#" class="sv_lbl"><span></span>在线服务</a>
            <a href="#" class="sv_lbl lbl1"><span></span>帮助中心</a>
            <a href="#" class="sv_lbl lbl2"><span></span>返回顶部</a>
            <a href="#" class="sv_lbl lbl3"><img src="img/rel.png" alt=""><p>金立关怀</p></a>
        </div>
    </div>
</div>

<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/jquery.cookie.js"></script>
<script src="js/public.js"></script>
<script>
    //获取cookie
    let cookie_str = $.cookie('carts') ? $.cookie('carts') : '';
    if(cookie_str === '{}'){
        $('.blank').css('display','block');
        $('.cart_fot').css('display','none');
    }else{
        //转为对象
        let cookie_obj = $toObj(cookie_str);
        //遍历对象
        for(let key in cookie_obj){
            let good = cookie_obj[key];
            $('.cartList').append(`
            
            <ul class="goodInfo" data-good-id="sp1">
                <li><img src="${good.src}" /></li>
                <li>${good.name}</li>
                <li class="prione">${good.price}</li>
                <li class="num">
                    <div class="product-num">
                        <a href="javascript:;" class="minus"><span></span></a>
                        <input type="text" name="" id="" value="${good.num}">
                        <a href="javascript:;" class="plus"><span></span></a>
                    </div>
                    
                </li>
                <li class="total prione">${good.price * good.num}</li>
                <li><a href="javascript:;" class="del">删除</a></li>
            </ul>
            
            `)
        }
        //减号
        let $minus = $('.minus');
        $minus.each(function(i,value){
            $(value).click(()=>{
                
                //获取id
                let id = $(this).parents('.goodInfo').attr('data-good-id');
                //获取cookie
                let cookie_str = $.cookie('carts') ? $.cookie('carts') : '';
                //转对象
                let cookie_obj = $toObj(cookie_str);
                //改变数量
                if(cookie_obj[id].num > 0){
                    cookie_obj[id].num --;
                }
                //存入cookie
                $.cookie('carts',JSON.stringify(cookie_obj),{expires : 7,path : '/'});
                //修改数量文本框
                $(this).next().val(cookie_obj[id].num);
                //修改合计
                $(this).parent().parent().next().text(cookie_obj[id].price * cookie_obj[id].num);
                
            })
        })
        $('.plus').each(function(i,value){
            $(value).click(()=>{
                //当前商品的id
                let id = $(this).parents('.goodInfo').attr('data-good-id');
                //获取cookie
                let cookie_str = $.cookie('carts') ? $.cookie('carts') : '';
                //转对象
                let cookie_obj = $toObj(cookie_str);
                //数量增加
                cookie_obj[id].num ++;
                //存入cookie
                $.cookie('carts',JSON.stringify(cookie_obj),{expires : 7,path : '/'});
                //修改数量文本框
                $(this).prev().val(cookie_obj[id].num);
                //合计
                //修改合计
                $(this).parent().parent().next().text(cookie_obj[id].price * cookie_obj[id].num);
            })
        })
        //数量框
        $('.num input').each(function(index,value){
            $(value).blur(()=>{
                //id
                let id = $(this).parents('.goodInfo').attr('data-good-id');
                
                //获取cookie
                let cookie_str = $.cookie('carts') ? $.cookie('carts') : '';
                //转对象
                let cookie_obj = $toObj(cookie_str);
                //文本框数量
                //非数字   正整数
                let num = $(this).val();
                if(!/^\d+$/.test(num)){
                    num = 0;
                }
                cookie_obj[id].num = num;
                
                //存入cookie
                $.cookie('carts',JSON.stringify(cookie_obj),{expires : 7,path : '/'});
                $(this).val(cookie_obj[id].num);
                $(this).parent().parent().next().text(cookie_obj[id].price * cookie_obj[id].num);
            })
        })
        //删除
        $('.del').each(function(index,value){
            $(value).click(()=>{
                let id = $(this).parents('.goodInfo').attr('data-good-id');
                //获取cookie
                let cookie_str = $.cookie('carts') ? $.cookie('carts') : '';
                //转对象
                let cookie_obj = $toObj(cookie_str);
                //删除对象中的属性
                delete cookie_obj[id];
                //存入cookie
                $.cookie('carts',JSON.stringify(cookie_obj),{expires : 7,path : '/'});
                //删除页面中的商品信息
                $(this).parents('.goodInfo').remove();
                location.reload();
            })
        })
    }
</script>

</body>
</html>